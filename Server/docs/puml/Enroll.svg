<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="368px" preserveAspectRatio="none" style="width:566px;height:368px;" version="1.1" viewBox="0 0 566 368" width="566px" zoomAndPan="magnify"><defs><filter height="300%" id="f9mdqnoffu5t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="46" x="257.5" y="30.6855">Enroll</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="32" x2="32" y1="78.25" y2="323.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="195.5" x2="195.5" y1="78.25" y2="323.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="480" x2="480" y1="78.25" y2="323.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="532" x2="532" y1="78.25" y2="323.7109"/><rect fill="#FEFECE" filter="url(#f9mdqnoffu5t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="51" x="5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="12" y="63.1738">Agent</text><rect fill="#FEFECE" filter="url(#f9mdqnoffu5t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="51" x="5" y="322.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="12" y="344.2441">Agent</text><rect fill="#FEFECE" filter="url(#f9mdqnoffu5t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="56" x="165.5" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="172.5" y="63.1738">Server</text><rect fill="#FEFECE" filter="url(#f9mdqnoffu5t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="56" x="165.5" y="322.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="172.5" y="344.2441">Server</text><rect fill="#FEFECE" filter="url(#f9mdqnoffu5t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="33" x="462" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="469" y="63.1738">DB</text><rect fill="#FEFECE" filter="url(#f9mdqnoffu5t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="33" x="462" y="322.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="469" y="344.2441">DB</text><rect fill="#FEFECE" filter="url(#f9mdqnoffu5t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="43" x="509" y="41.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="516" y="63.1738">User</text><rect fill="#FEFECE" filter="url(#f9mdqnoffu5t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="43" x="509" y="322.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="516" y="344.2441">User</text><polygon fill="#A80036" points="183.5,106.6016,193.5,110.6016,183.5,114.6016,187.5,110.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="32.5" x2="189.5" y1="110.6016" y2="110.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="39.5" y="105.7451">FQDN and TLS, register</text><polygon fill="#A80036" points="468.5,136.9531,478.5,140.9531,468.5,144.9531,472.5,140.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="195.5" x2="474.5" y1="140.9531" y2="140.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="202.5" y="136.0967">Register Agent, status awaiting user approval</text><polygon fill="#A80036" points="206.5,167.3047,196.5,171.3047,206.5,175.3047,202.5,171.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="200.5" x2="479.5" y1="171.3047" y2="171.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="212.5" y="166.4482">Confirmation</text><polygon fill="#A80036" points="43.5,197.6563,33.5,201.6563,43.5,205.6563,39.5,201.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37.5" x2="194.5" y1="201.6563" y2="201.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="49.5" y="196.7998">Awaiting User approval</text><polygon fill="#A80036" points="206.5,228.0078,196.5,232.0078,206.5,236.0078,202.5,232.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="200.5" x2="531.5" y1="232.0078" y2="232.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="212.5" y="227.1514">Approve Agent enrollement</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="195.5" x2="237.5" y1="262.3594" y2="262.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="237.5" x2="237.5" y1="262.3594" y2="275.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="196.5" x2="237.5" y1="275.3594" y2="275.3594"/><polygon fill="#A80036" points="206.5,271.3594,196.5,275.3594,206.5,279.3594,202.5,275.3594" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="202.5" y="257.5029">Signs Agent TLS</text><polygon fill="#A80036" points="520.5,301.7109,530.5,305.7109,520.5,309.7109,524.5,305.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="195.5" x2="526.5" y1="305.7109" y2="305.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="202.5" y="300.8545">Confirmation</text><!--MD5=[7b2f50b7ba7f879daebd250e3f1d358e]
@startuml
title Enroll

participant Agent
participant Server
participant DB

Agent -> Server: FQDN and TLS, register
Server - -> DB: Register Agent, status awaiting user approval
DB - -> Server: Confirmation
Server - -> Agent: Awaiting User approval
User -> Server: Approve Agent enrollement
Server - -> Server: Signs Agent TLS
Server - -> User: Confirmation
@enduml

PlantUML version 1.2021.00(Sun Jan 10 15:55:05 IST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>